/*
 * Custom code goes here.
 * A template should always ship with an empty custom.js
 */

// Generated by CoffeeScript 1.6.2
/*
 jQuery Waypoints - v2.0.3
 Copyright (c) 2011-2013 Caleb Troughton
 Dual licensed under the MIT license and GPL license.
 https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
 */

/*
 * jQuery Waypoints
 */
(function(){var t = [].indexOf || function(t){for (var e = 0, n = this.length; e < n; e++){if (e in this && this[e] === t)return e}return - 1}, e = [].slice; (function(t, e){if (typeof define === "function" && define.amd){return define("waypoints", ["jquery"], function(n){return e(n, t)})} else{return e(t.jQuery, t)}})(this, function(n, r){var i, o, l, s, f, u, a, c, h, d, p, y, v, w, g, m; i = n(r); c = t.call(r, "ontouchstart") >= 0; s = {horizontal:{}, vertical:{}}; f = 1; a = {}; u = "waypoints-context-id"; p = "resize.waypoints"; y = "scroll.waypoints"; v = 1; w = "waypoints-waypoint-ids"; g = "waypoint"; m = "waypoints"; o = function(){function t(t){var e = this; this.$element = t; this.element = t[0]; this.didResize = false; this.didScroll = false; this.id = "context" + f++; this.oldScroll = {x:t.scrollLeft(), y:t.scrollTop()}; this.waypoints = {horizontal:{}, vertical:{}}; t.data(u, this.id); a[this.id] = this; t.bind(y, function(){var t; if (!(e.didScroll || c)){e.didScroll = true; t = function(){e.doScroll(); return e.didScroll = false}; return r.setTimeout(t, n[m].settings.scrollThrottle)}}); t.bind(p, function(){var t; if (!e.didResize){e.didResize = true; t = function(){n[m]("refresh"); return e.didResize = false}; return r.setTimeout(t, n[m].settings.resizeThrottle)}})}t.prototype.doScroll = function(){var t, e = this; t = {horizontal:{newScroll:this.$element.scrollLeft(), oldScroll:this.oldScroll.x, forward:"right", backward:"left"}, vertical:{newScroll:this.$element.scrollTop(), oldScroll:this.oldScroll.y, forward:"down", backward:"up"}}; if (c && (!t.vertical.oldScroll || !t.vertical.newScroll)){n[m]("refresh")}n.each(t, function(t, r){var i, o, l; l = []; o = r.newScroll > r.oldScroll; i = o?r.forward:r.backward; n.each(e.waypoints[t], function(t, e){var n, i; if (r.oldScroll < (n = e.offset) && n <= r.newScroll){return l.push(e)} else if (r.newScroll < (i = e.offset) && i <= r.oldScroll){return l.push(e)}}); l.sort(function(t, e){return t.offset - e.offset}); if (!o){l.reverse()}return n.each(l, function(t, e){if (e.options.continuous || t === l.length - 1){return e.trigger([i])}})}); return this.oldScroll = {x:t.horizontal.newScroll, y:t.vertical.newScroll}}; t.prototype.refresh = function(){var t, e, r, i = this; r = n.isWindow(this.element); e = this.$element.offset(); this.doScroll(); t = {horizontal:{contextOffset:r?0:e.left, contextScroll:r?0:this.oldScroll.x, contextDimension:this.$element.width(), oldScroll:this.oldScroll.x, forward:"right", backward:"left", offsetProp:"left"}, vertical:{contextOffset:r?0:e.top, contextScroll:r?0:this.oldScroll.y, contextDimension:r?n[m]("viewportHeight"):this.$element.height(), oldScroll:this.oldScroll.y, forward:"down", backward:"up", offsetProp:"top"}}; return n.each(t, function(t, e){return n.each(i.waypoints[t], function(t, r){var i, o, l, s, f; i = r.options.offset; l = r.offset; o = n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp]; if (n.isFunction(i)){i = i.apply(r.element)} else if (typeof i === "string"){i = parseFloat(i); if (r.options.offset.indexOf("%") > - 1){i = Math.ceil(e.contextDimension * i / 100)}}r.offset = o - e.contextOffset + e.contextScroll - i; if (r.options.onlyOnScroll && l != null || !r.enabled){return}if (l !== null && l < (s = e.oldScroll) && s <= r.offset){return r.trigger([e.backward])} else if (l !== null && l > (f = e.oldScroll) && f >= r.offset){return r.trigger([e.forward])} else if (l === null && e.oldScroll >= r.offset){return r.trigger([e.forward])}})})}; t.prototype.checkEmpty = function(){if (n.isEmptyObject(this.waypoints.horizontal) && n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p, y].join(" ")); return delete a[this.id]}}; return t}(); l = function(){function t(t, e, r){var i, o; r = n.extend({}, n.fn[g].defaults, r); if (r.offset === "bottom-in-view"){r.offset = function(){var t; t = n[m]("viewportHeight"); if (!n.isWindow(e.element)){t = e.$element.height()}return t - n(this).outerHeight()}}this.$element = t; this.element = t[0]; this.axis = r.horizontal?"horizontal":"vertical"; this.callback = r.handler; this.context = e; this.enabled = r.enabled; this.id = "waypoints" + v++; this.offset = null; this.options = r; e.waypoints[this.axis][this.id] = this; s[this.axis][this.id] = this; i = (o = t.data(w)) != null?o:[]; i.push(this.id); t.data(w, i)}t.prototype.trigger = function(t){if (!this.enabled){return}if (this.callback != null){this.callback.apply(this.element, t)}if (this.options.triggerOnce){return this.destroy()}}; t.prototype.disable = function(){return this.enabled = false}; t.prototype.enable = function(){this.context.refresh(); return this.enabled = true}; t.prototype.destroy = function(){delete s[this.axis][this.id]; delete this.context.waypoints[this.axis][this.id]; return this.context.checkEmpty()}; t.getWaypointsByElement = function(t){var e, r; r = n(t).data(w); if (!r){return[]}e = n.extend({}, s.horizontal, s.vertical); return n.map(r, function(t){return e[t]})}; return t}(); d = {init:function(t, e){var r; if (e == null){e = {}}if ((r = e.handler) == null){e.handler = t}this.each(function(){var t, r, i, s; t = n(this); i = (s = e.context) != null?s:n.fn[g].defaults.context; if (!n.isWindow(i)){i = t.closest(i)}i = n(i); r = a[i.data(u)]; if (!r){r = new o(i)}return new l(t, r, e)}); n[m]("refresh"); return this}, disable:function(){return d._invoke(this, "disable")}, enable:function(){return d._invoke(this, "enable")}, destroy:function(){return d._invoke(this, "destroy")}, prev:function(t, e){return d._traverse.call(this, t, e, function(t, e, n){if (e > 0){return t.push(n[e - 1])}})}, next:function(t, e){return d._traverse.call(this, t, e, function(t, e, n){if (e < n.length - 1){return t.push(n[e + 1])}})}, _traverse:function(t, e, i){var o, l; if (t == null){t = "vertical"}if (e == null){e = r}l = h.aggregate(e); o = []; this.each(function(){var e; e = n.inArray(this, l[t]); return i(o, e, l[t])}); return this.pushStack(o)}, _invoke:function(t, e){t.each(function(){var t; t = l.getWaypointsByElement(this); return n.each(t, function(t, n){n[e](); return true})}); return this}}; n.fn[g] = function(){var t, r; r = arguments[0], t = 2 <= arguments.length?e.call(arguments, 1):[]; if (d[r]){return d[r].apply(this, t)} else if (n.isFunction(r)){return d.init.apply(this, arguments)} else if (n.isPlainObject(r)){return d.init.apply(this, [null, r])} else if (!r){return n.error("jQuery Waypoints needs a callback function or handler option.")} else{return n.error("The " + r + " method does not exist in jQuery Waypoints.")}}; n.fn[g].defaults = {context:r, continuous:true, enabled:true, horizontal:false, offset:0, triggerOnce:false}; h = {refresh:function(){return n.each(a, function(t, e){return e.refresh()})}, viewportHeight:function(){var t; return(t = r.innerHeight) != null?t:i.height()}, aggregate:function(t){var e, r, i; e = s; if (t){e = (i = a[n(t).data(u)]) != null?i.waypoints:void 0}if (!e){return[]}r = {horizontal:[], vertical:[]}; n.each(r, function(t, i){n.each(e[t], function(t, e){return i.push(e)}); i.sort(function(t, e){return t.offset - e.offset}); r[t] = n.map(i, function(t){return t.element}); return r[t] = n.unique(r[t])}); return r}, above:function(t){if (t == null){t = r}return h._filter(t, "vertical", function(t, e){return e.offset <= t.oldScroll.y})}, below:function(t){if (t == null){t = r}return h._filter(t, "vertical", function(t, e){return e.offset > t.oldScroll.y})}, left:function(t){if (t == null){t = r}return h._filter(t, "horizontal", function(t, e){return e.offset <= t.oldScroll.x})}, right:function(t){if (t == null){t = r}return h._filter(t, "horizontal", function(t, e){return e.offset > t.oldScroll.x})}, enable:function(){return h._invoke("enable")}, disable:function(){return h._invoke("disable")}, destroy:function(){return h._invoke("destroy")}, extendFn:function(t, e){return d[t] = e}, _invoke:function(t){var e; e = n.extend({}, s.vertical, s.horizontal); return n.each(e, function(e, n){n[t](); return true})}, _filter:function(t, e, r){var i, o; i = a[n(t).data(u)]; if (!i){return[]}o = []; n.each(i.waypoints[e], function(t, e){if (r(i, e)){return o.push(e)}}); o.sort(function(t, e){return t.offset - e.offset}); return n.map(o, function(t){return t.element})}}; n[m] = function(){var t, n; n = arguments[0], t = 2 <= arguments.length?e.call(arguments, 1):[]; if (h[n]){return h[n].apply(null, t)} else{return h.aggregate.call(null, n)}}; n[m].settings = {resizeThrottle:100, scrollThrottle:30}; return i.load(function(){return n[m]("refresh")})})}).call(this);
// jQuery Visible
        !function(t){var i = t(window); t.fn.visible = function(t, e, o){if (!(this.length < 1)){var r = this.length > 1?this.eq(0):this, n = r.get(0), f = i.width(), h = i.height(), o = o?o:"both", l = e === !0?n.offsetWidth * n.offsetHeight:!0; if ("function" == typeof n.getBoundingClientRect){var g = n.getBoundingClientRect(), u = g.top >= 0 && g.top < h, s = g.bottom > 0 && g.bottom <= h, c = g.left >= 0 && g.left < f, a = g.right > 0 && g.right <= f, v = t?u || s:u && s, b = t?c || a:c && a; if ("both" === o)return l && v && b; if ("vertical" === o)return l && v; if ("horizontal" === o)return l && b} else{var d = i.scrollTop(), p = d + h, w = i.scrollLeft(), m = w + f, y = r.offset(), z = y.top, B = z + r.height(), C = y.left, R = C + r.width(), j = t === !0?B:z, q = t === !0?z:B, H = t === !0?R:C, L = t === !0?C:R; if ("both" === o)return!!l && p >= q && j >= d && m >= L && H >= w; if ("vertical" === o)return!!l && p >= q && j >= d; if ("horizontal" === o)return!!l && m >= L && H >= w}}}}(jQuery);
        /*
         *  jQuery Counter Plugin
         */

                (function(e){"use strict"; e.fn.counterUp = function(t){var n = e.extend({time:400, delay:10}, t); return this.each(function(){var t = e(this), r = n, i = function(){var e = [], n = r.time / r.delay, i = t.text(), s = /[0-9]+,[0-9]+/.test(i); i = i.replace(/,/g, ""); var o = /^[0-9]+$/.test(i), u = /^[0-9]+\.[0-9]+$/.test(i), a = u?(i.split(".")[1] || []).length:0; for (var f = n; f >= 1; f--){var l = parseInt(i / n * f); u && (l = parseFloat(i / n * f).toFixed(a)); if (s)while (/(\d+)(\d{3})/.test(l.toString()))l = l.toString().replace(/(\d+)(\d{3})/, "$1,$2"); e.unshift(l)}t.data("counterup-nums", e); t.text("0"); var c = function(){t.text(t.data("counterup-nums").shift()); if (t.data("counterup-nums").length)setTimeout(t.data("counterup-func"), r.delay);  else{delete t.data("counterup-nums"); t.data("counterup-nums", null); t.data("counterup-func", null)}}; t.data("counterup-func", c); setTimeout(t.data("counterup-func"), r.delay)}; t.waypoint(i, {offset:"100%", triggerOnce:!0})})}})(jQuery);
                /* JQuery Cookie Plugin */

                        (function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory)} else if (typeof exports === 'object'){module.exports = factory(require('jquery'))} else{factory(jQuery)}}(function($){var pluses = /\+/g; function encode(s){return config.raw?s:encodeURIComponent(s)}
                        function decode(s){return config.raw?s:decodeURIComponent(s)}
                        function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}
                        function parseCookieValue(s){if (s.indexOf('"') === 0){s = s.slice(1, - 1).replace(/\\"/g, '"').replace(/\\\\/g, '\\')}
                        try{s = decodeURIComponent(s.replace(pluses, ' ')); return config.json?JSON.parse(s):s} catch (e){}}
                        function read(s, converter){var value = config.raw?s:parseCookieValue(s); return $.isFunction(converter)?converter(value):value}
                        var config = $.cookie = function(key, value, options){if (arguments.length > 1 && !$.isFunction(value)){options = $.extend({}, config.defaults, options); if (typeof options.expires === 'number'){var days = options.expires, t = options.expires = new Date(); t.setMilliseconds(t.getMilliseconds() + days * 864e+5)}
                        return(document.cookie = [encode(key), '=', stringifyCookieValue(value), options.expires?'; expires=' + options.expires.toUTCString():'', options.path?'; path=' + options.path:'', options.domain?'; domain=' + options.domain:'', options.secure?'; secure':''].join(''))}
                        var result = key?undefined:{}, cookies = document.cookie?document.cookie.split('; '):[], i = 0, l = cookies.length; for (; i < l; i++){var parts = cookies[i].split('='), name = decode(parts.shift()), cookie = parts.join('='); if (key === name){result = read(cookie, value); break}
                        if (!key && (cookie = read(cookie)) !== undefined){result[name] = cookie}}
                        return result}; config.defaults = {}; $.removeCookie = function(key, options){$.cookie(key, '', $.extend({}, options, {expires: - 1})); return!$.cookie(key)}}))

                        /*OWL Carousel */
                        if (typeof Object.create !== "function"){Object.create = function(b){function a(){}a.prototype = b; return new a()}}(function(c, b, a){var d = {init:function(e, f){var g = this; g.$elem = c(f); g.options = c.extend({}, c.fn.owlCarousel.options, g.$elem.data(), e); g.userOptions = e; g.loadContent()}, loadContent:function(){var g = this, f; function e(k){var h, j = ""; if (typeof g.options.jsonSuccess === "function"){g.options.jsonSuccess.apply(this, [k])} else{for (h in k.owl){if (k.owl.hasOwnProperty(h)){j += k.owl[h].item}}g.$elem.html(j)}g.logIn()}if (typeof g.options.beforeInit === "function"){g.options.beforeInit.apply(this, [g.$elem])}if (typeof g.options.jsonPath === "string"){f = g.options.jsonPath; c.getJSON(f, e)} else{g.logIn()}}, logIn:function(){var e = this; e.$elem.data("owl-originalStyles", e.$elem.attr("style")).data("owl-originalClasses", e.$elem.attr("class")); e.$elem.css({opacity:0}); e.orignalItems = e.options.items; e.checkBrowser(); e.wrapperWidth = 0; e.checkVisible = null; e.setVars()}, setVars:function(){var e = this; if (e.$elem.children().length === 0){return false}e.baseClass(); e.eventTypes(); e.$userItems = e.$elem.children(); e.itemsAmount = e.$userItems.length; e.wrapItems(); e.$owlItems = e.$elem.find(".owl-item"); e.$owlWrapper = e.$elem.find(".owl-wrapper"); e.playDirection = "next"; e.prevItem = 0; e.prevArr = [0]; e.currentItem = 0; e.customEvents(); e.onStartup()}, onStartup:function(){var e = this; e.updateItems(); e.calculateAll(); e.buildControls(); e.updateControls(); e.response(); e.moveEvents(); e.stopOnHover(); e.owlStatus(); if (e.options.transitionStyle !== false){e.transitionTypes(e.options.transitionStyle)}if (e.options.autoPlay === true){e.options.autoPlay = 5000}e.play(); e.$elem.find(".owl-wrapper").css("display", "block"); if (!e.$elem.is(":visible")){e.watchVisibility()} else{e.$elem.css("opacity", 1)}e.onstartup = false; e.eachMoveUpdate(); if (typeof e.options.afterInit === "function"){e.options.afterInit.apply(this, [e.$elem])}}, eachMoveUpdate:function(){var e = this; if (e.options.lazyLoad === true){e.lazyLoad()}if (e.options.autoHeight === true){e.autoHeight()}e.onVisibleItems(); if (typeof e.options.afterAction === "function"){e.options.afterAction.apply(this, [e.$elem])}}, updateVars:function(){var e = this; if (typeof e.options.beforeUpdate === "function"){e.options.beforeUpdate.apply(this, [e.$elem])}e.watchVisibility(); e.updateItems(); e.calculateAll(); e.updatePosition(); e.updateControls(); e.eachMoveUpdate(); if (typeof e.options.afterUpdate === "function"){e.options.afterUpdate.apply(this, [e.$elem])}}, reload:function(){var e = this; b.setTimeout(function(){e.updateVars()}, 0)}, watchVisibility:function(){var e = this; if (e.$elem.is(":visible") === false){e.$elem.css({opacity:0}); b.clearInterval(e.autoPlayInterval); b.clearInterval(e.checkVisible)} else{return false}e.checkVisible = b.setInterval(function(){if (e.$elem.is(":visible")){e.reload(); e.$elem.animate({opacity:1}, 200); b.clearInterval(e.checkVisible)}}, 500)}, wrapItems:function(){var e = this; e.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'); e.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'); e.wrapperOuter = e.$elem.find(".owl-wrapper-outer"); e.$elem.css("display", "block")}, baseClass:function(){var g = this, e = g.$elem.hasClass(g.options.baseClass), f = g.$elem.hasClass(g.options.theme); if (!e){g.$elem.addClass(g.options.baseClass)}if (!f){g.$elem.addClass(g.options.theme)}}, updateItems:function(){var g = this, f, e; if (g.options.responsive === false){return false}if (g.options.singleItem === true){g.options.items = g.orignalItems = 1; g.options.itemsCustom = false; g.options.itemsDesktop = false; g.options.itemsDesktopSmall = false; g.options.itemsTablet = false; g.options.itemsTabletSmall = false; g.options.itemsMobile = false; return false}f = c(g.options.responsiveBaseWidth).width(); if (f > (g.options.itemsDesktop[0] || g.orignalItems)){g.options.items = g.orignalItems}if (g.options.itemsCustom !== false){g.options.itemsCustom.sort(function(i, h){return i[0] - h[0]}); for (e = 0; e < g.options.itemsCustom.length; e += 1){if (g.options.itemsCustom[e][0] <= f){g.options.items = g.options.itemsCustom[e][1]}}} else{if (f <= g.options.itemsDesktop[0] && g.options.itemsDesktop !== false){g.options.items = g.options.itemsDesktop[1]}if (f <= g.options.itemsDesktopSmall[0] && g.options.itemsDesktopSmall !== false){g.options.items = g.options.itemsDesktopSmall[1]}if (f <= g.options.itemsTablet[0] && g.options.itemsTablet !== false){g.options.items = g.options.itemsTablet[1]}if (f <= g.options.itemsTabletSmall[0] && g.options.itemsTabletSmall !== false){g.options.items = g.options.itemsTabletSmall[1]}if (f <= g.options.itemsMobile[0] && g.options.itemsMobile !== false){g.options.items = g.options.itemsMobile[1]}}if (g.options.items > g.itemsAmount && g.options.itemsScaleUp === true){g.options.items = g.itemsAmount}}, response:function(){var g = this, f, e; if (g.options.responsive !== true){return false}e = c(b).width(); g.resizer = function(){if (c(b).width() !== e){if (g.options.autoPlay !== false){b.clearInterval(g.autoPlayInterval)}b.clearTimeout(f); f = b.setTimeout(function(){e = c(b).width(); g.updateVars()}, g.options.responsiveRefreshRate)}}; c(b).resize(g.resizer)}, updatePosition:function(){var e = this; e.jumpTo(e.currentItem); if (e.options.autoPlay !== false){e.checkAp()}}, appendItemsSizes:function(){var g = this, e = 0, f = g.itemsAmount - g.options.items; g.$owlItems.each(function(h){var i = c(this); i.css({width:g.itemWidth}).data("owl-item", Number(h)); if (h % g.options.items === 0 || h === f){if (!(h > f)){e += 1}}i.data("owl-roundPages", e)})}, appendWrapperSizes:function(){var f = this, e = f.$owlItems.length * f.itemWidth; f.$owlWrapper.css({width:e * 2, left:0}); f.appendItemsSizes()}, calculateAll:function(){var e = this; e.calculateWidth(); e.appendWrapperSizes(); e.loops(); e.max()}, calculateWidth:function(){var e = this; e.itemWidth = Math.round(e.$elem.width() / e.options.items)}, max:function(){var e = this, f = ((e.itemsAmount * e.itemWidth) - e.options.items * e.itemWidth) * - 1; if (e.options.items > e.itemsAmount){e.maximumItem = 0; f = 0; e.maximumPixels = 0} else{e.maximumItem = e.itemsAmount - e.options.items; e.maximumPixels = f}return f}, min:function(){return 0}, loops:function(){var k = this, j = 0, g = 0, f, h, e; k.positionsInArray = [0]; k.pagesInArray = []; for (f = 0; f < k.itemsAmount; f += 1){g += k.itemWidth; k.positionsInArray.push( - g); if (k.options.scrollPerPage === true){h = c(k.$owlItems[f]); e = h.data("owl-roundPages"); if (e !== j){k.pagesInArray[j] = k.positionsInArray[f]; j = e}}}}, buildControls:function(){var e = this; if (e.options.navigation === true || e.options.pagination === true){e.owlControls = c('<div class="owl-controls"/>').toggleClass("clickable", !e.browser.isTouch).appendTo(e.$elem)}if (e.options.pagination === true){e.buildPagination()}if (e.options.navigation === true){e.buildButtons()}}, buildButtons:function(){var f = this, e = c('<div class="owl-buttons"/>'); f.owlControls.append(e); f.buttonPrev = c("<div/>", {"class":"owl-prev", html:f.options.navigationText[0] || ""}); f.buttonNext = c("<div/>", {"class":"owl-next", html:f.options.navigationText[1] || ""}); e.append(f.buttonPrev).append(f.buttonNext); e.on("touchstart.owlControls mousedown.owlControls", 'div[class^="owl"]', function(g){g.preventDefault()}); e.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]', function(g){g.preventDefault(); if (c(this).hasClass("owl-next")){f.next()} else{f.prev()}})}, buildPagination:function(){var e = this; e.paginationWrapper = c('<div class="owl-pagination"/>'); e.owlControls.append(e.paginationWrapper); e.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page", function(f){f.preventDefault(); if (Number(c(this).data("owl-page")) !== e.currentItem){e.goTo(Number(c(this).data("owl-page")), true)}})}, updatePagination:function(){var l = this, f, k, j, h, g, e; if (l.options.pagination === false){return false}l.paginationWrapper.html(""); f = 0; k = l.itemsAmount - l.itemsAmount % l.options.items; for (h = 0; h < l.itemsAmount; h += 1){if (h % l.options.items === 0){f += 1; if (k === h){j = l.itemsAmount - l.options.items}g = c("<div/>", {"class":"owl-page"}); e = c("<span></span>", {text:l.options.paginationNumbers === true?f:"", "class":l.options.paginationNumbers === true?"owl-numbers":""}); g.append(e); g.data("owl-page", k === h?j:h); g.data("owl-roundPages", f); l.paginationWrapper.append(g)}}l.checkPagination()}, checkPagination:function(){var e = this; if (e.options.pagination === false){return false}e.paginationWrapper.find(".owl-page").each(function(){if (c(this).data("owl-roundPages") === c(e.$owlItems[e.currentItem]).data("owl-roundPages")){e.paginationWrapper.find(".owl-page").removeClass("active"); c(this).addClass("active")}})}, checkNavigation:function(){var e = this; if (e.options.navigation === false){return false}if (e.options.rewindNav === false){if (e.currentItem === 0 && e.maximumItem === 0){e.buttonPrev.addClass("disabled"); e.buttonNext.addClass("disabled")} else{if (e.currentItem === 0 && e.maximumItem !== 0){e.buttonPrev.addClass("disabled"); e.buttonNext.removeClass("disabled")} else{if (e.currentItem === e.maximumItem){e.buttonPrev.removeClass("disabled"); e.buttonNext.addClass("disabled")} else{if (e.currentItem !== 0 && e.currentItem !== e.maximumItem){e.buttonPrev.removeClass("disabled"); e.buttonNext.removeClass("disabled")}}}}}}, updateControls:function(){var e = this; e.updatePagination(); e.checkNavigation(); if (e.owlControls){if (e.options.items >= e.itemsAmount){e.owlControls.hide()} else{e.owlControls.show()}}}, destroyControls:function(){var e = this; if (e.owlControls){e.owlControls.remove()}}, next:function(f){var e = this; if (e.isTransition){return false}e.currentItem += e.options.scrollPerPage === true?e.options.items:1; if (e.currentItem > e.maximumItem + (e.options.scrollPerPage === true?(e.options.items - 1):0)){if (e.options.rewindNav === true){e.currentItem = 0; f = "rewind"} else{e.currentItem = e.maximumItem; return false}}e.goTo(e.currentItem, f)}, prev:function(f){var e = this; if (e.isTransition){return false}if (e.options.scrollPerPage === true && e.currentItem > 0 && e.currentItem < e.options.items){e.currentItem = 0} else{e.currentItem -= e.options.scrollPerPage === true?e.options.items:1}if (e.currentItem < 0){if (e.options.rewindNav === true){e.currentItem = e.maximumItem; f = "rewind"} else{e.currentItem = 0; return false}}e.goTo(e.currentItem, f)}, goTo:function(e, i, g){var h = this, f; if (h.isTransition){return false}if (typeof h.options.beforeMove === "function"){h.options.beforeMove.apply(this, [h.$elem])}if (e >= h.maximumItem){e = h.maximumItem} else{if (e <= 0){e = 0}}h.currentItem = h.owl.currentItem = e; if (h.options.transitionStyle !== false && g !== "drag" && h.options.items === 1 && h.browser.support3d === true){h.swapSpeed(0); if (h.browser.support3d === true){h.transition3d(h.positionsInArray[e])} else{h.css2slide(h.positionsInArray[e], 1)}h.afterGo(); h.singleItemTransition(); return false}f = h.positionsInArray[e]; if (h.browser.support3d === true){h.isCss3Finish = false; if (i === true){h.swapSpeed("paginationSpeed"); b.setTimeout(function(){h.isCss3Finish = true}, h.options.paginationSpeed)} else{if (i === "rewind"){h.swapSpeed(h.options.rewindSpeed); b.setTimeout(function(){h.isCss3Finish = true}, h.options.rewindSpeed)} else{h.swapSpeed("slideSpeed"); b.setTimeout(function(){h.isCss3Finish = true}, h.options.slideSpeed)}}h.transition3d(f)} else{if (i === true){h.css2slide(f, h.options.paginationSpeed)} else{if (i === "rewind"){h.css2slide(f, h.options.rewindSpeed)} else{h.css2slide(f, h.options.slideSpeed)}}}h.afterGo()}, jumpTo:function(e){var f = this; if (typeof f.options.beforeMove === "function"){f.options.beforeMove.apply(this, [f.$elem])}if (e >= f.maximumItem || e === - 1){e = f.maximumItem} else{if (e <= 0){e = 0}}f.swapSpeed(0); if (f.browser.support3d === true){f.transition3d(f.positionsInArray[e])} else{f.css2slide(f.positionsInArray[e], 1)}f.currentItem = f.owl.currentItem = e; f.afterGo()}, afterGo:function(){var e = this; e.prevArr.push(e.currentItem); e.prevItem = e.owl.prevItem = e.prevArr[e.prevArr.length - 2]; e.prevArr.shift(0); if (e.prevItem !== e.currentItem){e.checkPagination(); e.checkNavigation(); e.eachMoveUpdate(); if (e.options.autoPlay !== false){e.checkAp()}}if (typeof e.options.afterMove === "function" && e.prevItem !== e.currentItem){e.options.afterMove.apply(this, [e.$elem])}}, stop:function(){var e = this; e.apStatus = "stop"; b.clearInterval(e.autoPlayInterval)}, checkAp:function(){var e = this; if (e.apStatus !== "stop"){e.play()}}, play:function(){var e = this; e.apStatus = "play"; if (e.options.autoPlay === false){return false}b.clearInterval(e.autoPlayInterval); e.autoPlayInterval = b.setInterval(function(){e.next(true)}, e.options.autoPlay)}, swapSpeed:function(f){var e = this; if (f === "slideSpeed"){e.$owlWrapper.css(e.addCssSpeed(e.options.slideSpeed))} else{if (f === "paginationSpeed"){e.$owlWrapper.css(e.addCssSpeed(e.options.paginationSpeed))} else{if (typeof f !== "string"){e.$owlWrapper.css(e.addCssSpeed(f))}}}}, addCssSpeed:function(e){return{"-webkit-transition":"all " + e + "ms ease", "-moz-transition":"all " + e + "ms ease", "-o-transition":"all " + e + "ms ease", transition:"all " + e + "ms ease"}}, removeTransition:function(){return{"-webkit-transition":"", "-moz-transition":"", "-o-transition":"", transition:""}}, doTranslate:function(e){return{"-webkit-transform":"translate3d(" + e + "px, 0px, 0px)", "-moz-transform":"translate3d(" + e + "px, 0px, 0px)", "-o-transform":"translate3d(" + e + "px, 0px, 0px)", "-ms-transform":"translate3d(" + e + "px, 0px, 0px)", transform:"translate3d(" + e + "px, 0px,0px)"}}, transition3d:function(f){var e = this; e.$owlWrapper.css(e.doTranslate(f))}, css2move:function(f){var e = this; e.$owlWrapper.css({left:f})}, css2slide:function(g, f){var e = this; e.isCssFinish = false; e.$owlWrapper.stop(true, true).animate({left:g}, {duration:f || e.options.slideSpeed, complete:function(){e.isCssFinish = true}})}, checkBrowser:function(){var j = this, g = "translate3d(0px, 0px, 0px)", i = a.createElement("div"), h, f, k, e; i.style.cssText = "  -moz-transform:" + g + "; -ms-transform:" + g + "; -o-transform:" + g + "; -webkit-transform:" + g + "; transform:" + g; h = /translate3d\(0px, 0px, 0px\)/g; f = i.style.cssText.match(h); k = (f !== null && f.length === 1); e = "ontouchstart" in b || b.navigator.msMaxTouchPoints; j.browser = {support3d:k, isTouch:e}}, moveEvents:function(){var e = this; if (e.options.mouseDrag !== false || e.options.touchDrag !== false){e.gestures(); e.disabledEvents()}}, eventTypes:function(){var f = this, e = ["s", "e", "x"]; f.ev_types = {}; if (f.options.mouseDrag === true && f.options.touchDrag === true){e = ["touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl"]} else{if (f.options.mouseDrag === false && f.options.touchDrag === true){e = ["touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl"]} else{if (f.options.mouseDrag === true && f.options.touchDrag === false){e = ["mousedown.owl", "mousemove.owl", "mouseup.owl"]}}}f.ev_types.start = e[0]; f.ev_types.move = e[1]; f.ev_types.end = e[2]}, disabledEvents:function(){var e = this; e.$elem.on("dragstart.owl", function(f){f.preventDefault()}); e.$elem.on("mousedown.disableTextSelect", function(f){return c(f.target).is("input, textarea, select, option")})}, gestures:function(){var h = this, i = {offsetX:0, offsetY:0, baseElWidth:0, relativePos:0, position:null, minSwipe:null, maxSwipe:null, sliding:null, dargging:null, targetElement:null}; h.isCssFinish = true; function k(l){if (l.touches !== undefined){return{x:l.touches[0].pageX, y:l.touches[0].pageY}}if (l.touches === undefined){if (l.pageX !== undefined){return{x:l.pageX, y:l.pageY}}if (l.pageX === undefined){return{x:l.clientX, y:l.clientY}}}}function j(l){if (l === "on"){c(a).on(h.ev_types.move, g); c(a).on(h.ev_types.end, e)} else{if (l === "off"){c(a).off(h.ev_types.move); c(a).off(h.ev_types.end)}}}function f(n){var m = n.originalEvent || n || b.event, l; if (m.which === 3){return false}if (h.itemsAmount <= h.options.items){return}if (h.isCssFinish === false && !h.options.dragBeforeAnimFinish){return false}if (h.isCss3Finish === false && !h.options.dragBeforeAnimFinish){return false}if (h.options.autoPlay !== false){b.clearInterval(h.autoPlayInterval)}if (h.browser.isTouch !== true && !h.$owlWrapper.hasClass("grabbing")){h.$owlWrapper.addClass("grabbing")}h.newPosX = 0; h.newRelativeX = 0; c(this).css(h.removeTransition()); l = c(this).position(); i.relativePos = l.left; i.offsetX = k(m).x - l.left; i.offsetY = k(m).y - l.top; j("on"); i.sliding = false; i.targetElement = m.target || m.srcElement}function g(o){var n = o.originalEvent || o || b.event, l, m; h.newPosX = k(n).x - i.offsetX; h.newPosY = k(n).y - i.offsetY; h.newRelativeX = h.newPosX - i.relativePos; if (typeof h.options.startDragging === "function" && i.dragging !== true && h.newRelativeX !== 0){i.dragging = true; h.options.startDragging.apply(h, [h.$elem])}if ((h.newRelativeX > 8 || h.newRelativeX < - 8) && (h.browser.isTouch === true)){if (n.preventDefault !== undefined){n.preventDefault()} else{n.returnValue = false}i.sliding = true}if ((h.newPosY > 10 || h.newPosY < - 10) && i.sliding === false){c(a).off("touchmove.owl")}l = function(){return h.newRelativeX / 5}; m = function(){return h.maximumPixels + h.newRelativeX / 5}; h.newPosX = Math.max(Math.min(h.newPosX, l()), m()); if (h.browser.support3d === true){h.transition3d(h.newPosX)} else{h.css2move(h.newPosX)}}function e(p){var o = p.originalEvent || p || b.event, n, m, l; o.target = o.target || o.srcElement; i.dragging = false; if (h.browser.isTouch !== true){h.$owlWrapper.removeClass("grabbing")}if (h.newRelativeX < 0){h.dragDirection = h.owl.dragDirection = "left"} else{h.dragDirection = h.owl.dragDirection = "right"}if (h.newRelativeX !== 0){n = h.getNewPosition(); h.goTo(n, false, "drag"); if (i.targetElement === o.target && h.browser.isTouch !== true){c(o.target).on("click.disable", function(q){q.stopImmediatePropagation(); q.stopPropagation(); q.preventDefault(); c(q.target).off("click.disable")}); m = c._data(o.target, "events").click; l = m.pop(); m.splice(0, 0, l)}}j("off")}h.$elem.on(h.ev_types.start, ".owl-wrapper", f)}, getNewPosition:function(){var f = this, e = f.closestItem(); if (e > f.maximumItem){f.currentItem = f.maximumItem; e = f.maximumItem} else{if (f.newPosX >= 0){e = 0; f.currentItem = 0}}return e}, closestItem:function(){var g = this, h = g.options.scrollPerPage === true?g.pagesInArray:g.positionsInArray, e = g.newPosX, f = null; c.each(h, function(k, j){if (e - (g.itemWidth / 20) > h[k + 1] && e - (g.itemWidth / 20) < j && g.moveDirection() === "left"){f = j; if (g.options.scrollPerPage === true){g.currentItem = c.inArray(f, g.positionsInArray)} else{g.currentItem = k}} else{if (e + (g.itemWidth / 20) < j && e + (g.itemWidth / 20) > (h[k + 1] || h[k] - g.itemWidth) && g.moveDirection() === "right"){if (g.options.scrollPerPage === true){f = h[k + 1] || h[h.length - 1]; g.currentItem = c.inArray(f, g.positionsInArray)} else{f = h[k + 1]; g.currentItem = k + 1}}}}); return g.currentItem}, moveDirection:function(){var e = this, f; if (e.newRelativeX < 0){f = "right"; e.playDirection = "next"} else{f = "left"; e.playDirection = "prev"}return f}, customEvents:function(){var e = this; e.$elem.on("owl.next", function(){e.next()}); e.$elem.on("owl.prev", function(){e.prev()}); e.$elem.on("owl.play", function(f, g){e.options.autoPlay = g; e.play(); e.hoverStatus = "play"}); e.$elem.on("owl.stop", function(){e.stop(); e.hoverStatus = "stop"}); e.$elem.on("owl.goTo", function(g, f){e.goTo(f)}); e.$elem.on("owl.jumpTo", function(g, f){e.jumpTo(f)})}, stopOnHover:function(){var e = this; if (e.options.stopOnHover === true && e.browser.isTouch !== true && e.options.autoPlay !== false){e.$elem.on("mouseover", function(){e.stop()}); e.$elem.on("mouseout", function(){if (e.hoverStatus !== "stop"){e.play()}})}}, lazyLoad:function(){var k = this, h, f, j, g, e; if (k.options.lazyLoad === false){return false}for (h = 0; h < k.itemsAmount; h += 1){f = c(k.$owlItems[h]); if (f.data("owl-loaded") === "loaded"){continue}j = f.data("owl-item"); g = f.find(".lazyOwl"); if (typeof g.data("src") !== "string"){f.data("owl-loaded", "loaded"); continue}if (f.data("owl-loaded") === undefined){g.hide(); f.addClass("loading").data("owl-loaded", "checked")}if (k.options.lazyFollow === true){e = j >= k.currentItem} else{e = true}if (e && j < k.currentItem + k.options.items && g.length){k.lazyPreload(f, g)}}}, lazyPreload:function(e, f){var i = this, h = 0, j; if (f.prop("tagName") === "DIV"){f.css("background-image", "url(" + f.data("src") + ")"); j = true} else{f[0].src = f.data("src")}function g(){e.data("owl-loaded", "loaded").removeClass("loading"); f.removeAttr("data-src"); if (i.options.lazyEffect === "fade"){f.fadeIn(400)} else{f.show()}if (typeof i.options.afterLazyLoad === "function"){i.options.afterLazyLoad.apply(this, [i.$elem])}}function k(){h += 1; if (i.completeImg(f.get(0)) || j === true){g()} else{if (h <= 100){b.setTimeout(k, 100)} else{g()}}}k()}, autoHeight:function(){var h = this, i = c(h.$owlItems[h.currentItem]).find("img"), g; function e(){var j = c(h.$owlItems[h.currentItem]).height(); h.wrapperOuter.css("height", j + "px"); if (!h.wrapperOuter.hasClass("autoHeight")){b.setTimeout(function(){h.wrapperOuter.addClass("autoHeight")}, 0)}}function f(){g += 1; if (h.completeImg(i.get(0))){e()} else{if (g <= 100){b.setTimeout(f, 100)} else{h.wrapperOuter.css("height", "")}}}if (i.get(0) !== undefined){g = 0; f()} else{e()}}, completeImg:function(e){var f; if (!e.complete){return false}f = typeof e.naturalWidth; if (f !== "undefined" && e.naturalWidth === 0){return false}return true}, onVisibleItems:function(){var f = this, e; if (f.options.addClassActive === true){f.$owlItems.removeClass("active")}f.visibleItems = []; for (e = f.currentItem; e < f.currentItem + f.options.items; e += 1){f.visibleItems.push(e); if (f.options.addClassActive === true){c(f.$owlItems[e]).addClass("active")}}f.owl.visibleItems = f.visibleItems}, transitionTypes:function(e){var f = this; f.outClass = "owl-" + e + "-out"; f.inClass = "owl-" + e + "-in"}, singleItemTransition:function(){var f = this, h = f.outClass, k = f.inClass, j = f.$owlItems.eq(f.currentItem), i = f.$owlItems.eq(f.prevItem), m = Math.abs(f.positionsInArray[f.currentItem]) + f.positionsInArray[f.prevItem], l = Math.abs(f.positionsInArray[f.currentItem]) + f.itemWidth / 2, g = "webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"; f.isTransition = true; f.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":l + "px", "-moz-perspective-origin":l + "px", "perspective-origin":l + "px"}); function e(n){return{position:"relative", left:n + "px"}}i.css(e(m, 10)).addClass(h).on(g, function(){f.endPrev = true; i.off(g); f.clearTransStyle(i, h)}); j.addClass(k).on(g, function(){f.endCurrent = true; j.off(g); f.clearTransStyle(j, k)})}, clearTransStyle:function(f, e){var g = this; f.css({position:"", left:""}).removeClass(e); if (g.endPrev && g.endCurrent){g.$owlWrapper.removeClass("owl-origin"); g.endPrev = false; g.endCurrent = false; g.isTransition = false}}, owlStatus:function(){var e = this; e.owl = {userOptions:e.userOptions, baseElement:e.$elem, userItems:e.$userItems, owlItems:e.$owlItems, currentItem:e.currentItem, prevItem:e.prevItem, visibleItems:e.visibleItems, isTouch:e.browser.isTouch, browser:e.browser, dragDirection:e.dragDirection}}, clearEvents:function(){var e = this; e.$elem.off(".owl owl mousedown.disableTextSelect"); c(a).off(".owl owl"); c(b).off("resize", e.resizer)}, unWrap:function(){var e = this; if (e.$elem.children().length !== 0){e.$owlWrapper.unwrap(); e.$userItems.unwrap().unwrap(); if (e.owlControls){e.owlControls.remove()}}e.clearEvents(); e.$elem.attr("style", e.$elem.data("owl-originalStyles") || "").attr("class", e.$elem.data("owl-originalClasses"))}, destroy:function(){var e = this; e.stop(); b.clearInterval(e.checkVisible); e.unWrap(); e.$elem.removeData()}, reinit:function(g){var f = this, e = c.extend({}, f.userOptions, g); f.unWrap(); f.init(e, f.$elem)}, addItem:function(h, f){var g = this, e; if (!h){return false}if (g.$elem.children().length === 0){g.$elem.append(h); g.setVars(); return false}g.unWrap(); if (f === undefined || f === - 1){e = - 1} else{e = f}if (e >= g.$userItems.length || e === - 1){g.$userItems.eq( - 1).after(h)} else{g.$userItems.eq(e).before(h)}g.setVars()}, removeItem:function(f){var g = this, e; if (g.$elem.children().length === 0){return false}if (f === undefined || f === - 1){e = - 1} else{e = f}g.unWrap(); g.$userItems.eq(e).remove(); g.setVars()}}; c.fn.owlCarousel = function(e){return this.each(function(){if (c(this).data("owl-init") === true){return false}c(this).data("owl-init", true); var f = Object.create(d); f.init(e, this); c.data(this, "owlCarousel", f)})}; c.fn.owlCarousel.options = {items:5, itemsCustom:false, itemsDesktop:[1199, 4], itemsDesktopSmall:[979, 3], itemsTablet:[768, 2], itemsTabletSmall:false, itemsMobile:[479, 1], singleItem:false, itemsScaleUp:false, slideSpeed:200, paginationSpeed:800, rewindSpeed:1000, autoPlay:false, stopOnHover:false, navigation:false, navigationText:["prev", "next"], rewindNav:true, scrollPerPage:false, pagination:true, paginationNumbers:false, responsive:true, responsiveRefreshRate:200, responsiveBaseWidth:b, baseClass:"owl-carousel", theme:"owl-theme", lazyLoad:false, lazyFollow:true, lazyEffect:"fade", autoHeight:false, jsonPath:false, jsonSuccess:false, dragBeforeAnimFinish:true, mouseDrag:true, touchDrag:true, addClassActive:false, transitionStyle:false, beforeUpdate:false, afterUpdate:false, beforeInit:false, afterInit:false, beforeMove:false, afterMove:false, afterAction:false, startDragging:false, afterLazyLoad:false}}(jQuery, window, document));
                        /* Lazy Loader */
                        /*! jQuery & Zepto Lazy v1.7.6 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2017 Daniel 'Eisbehr' Kern */
                        !function(t, e){"use strict"; function r(r, a, i, u, l){function f(){L = t.devicePixelRatio > 1, i = c(i), a.delay >= 0 && setTimeout(function(){s(!0)}, a.delay), (a.delay < 0 || a.combined) && (u.e = v(a.throttle, function(t){"resize" === t.type && (w = B = - 1), s(t.all)}), u.a = function(t){t = c(t), i.push.apply(i, t)}, u.g = function(){return i = n(i).filter(function(){return!n(this).data(a.loadedName)})}, u.f = function(t){for (var e = 0; e < t.length; e++){var r = i.filter(function(){return this === t[e]}); r.length && s(!1, r)}}, s(), n(a.appendScroll).on("scroll." + l + " resize." + l, u.e))}function c(t){var i = a.defaultImage, o = a.placeholder, u = a.imageBase, l = a.srcsetAttribute, f = a.loaderAttribute, c = a._f || {}; t = n(t).filter(function(){var t = n(this), r = m(this); return!t.data(a.handledName) && (t.attr(a.attribute) || t.attr(l) || t.attr(f) || c[r] !== e)}).data("plugin_" + a.name, r); for (var s = 0, d = t.length; s < d; s++){var A = n(t[s]), g = m(t[s]), h = A.attr(a.imageBaseAttribute) || u; g === N && h && A.attr(l) && A.attr(l, b(A.attr(l), h)), c[g] === e || A.attr(f) || A.attr(f, c[g]), g === N && i && !A.attr(E)?A.attr(E, i):g === N || !o || A.css(O) && "none" !== A.css(O) || A.css(O, "url('" + o + "')")}return t}function s(t, e){if (!i.length)return void(a.autoDestroy && r.destroy()); for (var o = e || i, u = !1, l = a.imageBase || "", f = a.srcsetAttribute, c = a.handledName, s = 0; s < o.length; s++)if (t || e || A(o[s])){var g = n(o[s]), h = m(o[s]), b = g.attr(a.attribute), v = g.attr(a.imageBaseAttribute) || l, p = g.attr(a.loaderAttribute); g.data(c) || a.visibleOnly && !g.is(":visible") || !((b || g.attr(f)) && (h === N && (v + b !== g.attr(E) || g.attr(f) !== g.attr(F)) || h !== N && v + b !== g.css(O)) || p) || (u = !0, g.data(c, !0), d(g, h, v, p))}u && (i = n(i).filter(function(){return!n(this).data(c)}))}function d(t, e, r, i){++z; var o = function(){y("onError", t), p(), o = n.noop}; y("beforeLoad", t); var u = a.attribute, l = a.srcsetAttribute, f = a.sizesAttribute, c = a.retinaAttribute, s = a.removeAttribute, d = a.loadedName, A = t.attr(c); if (i){var g = function(){s && t.removeAttr(a.loaderAttribute), t.data(d, !0), y(T, t), setTimeout(p, 1), g = n.noop}; t.off(I).one(I, o).one(D, g), y(i, t, function(e){e?(t.off(D), g()):(t.off(I), o())}) || t.trigger(I)} else{var h = n(new Image); h.one(I, o).one(D, function(){t.hide(), e === N?t.attr(C, h.attr(C)).attr(F, h.attr(F)).attr(E, h.attr(E)):t.css(O, "url('" + h.attr(E) + "')"), t[a.effect](a.effectTime), s && (t.removeAttr(u + " " + l + " " + c + " " + a.imageBaseAttribute), f !== C && t.removeAttr(f)), t.data(d, !0), y(T, t), h.remove(), p()}); var m = (L && A?A:t.attr(u)) || ""; h.attr(C, t.attr(f)).attr(F, t.attr(l)).attr(E, m?r + m:null), h.complete && h.trigger(D)}}function A(t){var e = t.getBoundingClientRect(), r = a.scrollDirection, n = a.threshold, i = h() + n > e.top && - n < e.bottom, o = g() + n > e.left && - n < e.right; return"vertical" === r?i:"horizontal" === r?o:i && o}function g(){return w >= 0?w:w = n(t).width()}function h(){return B >= 0?B:B = n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t, e){if (e){var r = t.split(","); t = ""; for (var a = 0, n = r.length; a < n; a++)t += e + r[a].trim() + (a !== n - 1?",":"")}return t}function v(t, e){var n, i = 0; return function(o, u){function l(){i = + new Date, e.call(r, o)}var f = + new Date - i; n && clearTimeout(n), f > t || !a.enableThrottle || u?l():n = setTimeout(l, t - f)}}function p(){--z, i.length || z || y("onFinishedAll")}function y(t, e, n){return!!(t = a[t]) && (t.apply(r, [].slice.call(arguments, 1)), !0)}var z = 0, w = - 1, B = - 1, L = !1, T = "afterLoad", D = "load", I = "error", N = "img", E = "src", F = "srcset", C = "sizes", O = "background-image"; "event" === a.bind || o?f():n(t).on(D + "." + l, f)}function a(a, o){var u = this, l = n.extend({}, u.config, o), f = {}, c = l.name + "-" + ++i; return u.config = function(t, r){return r === e?l[t]:(l[t] = r, u)}, u.addItems = function(t){return f.a && f.a("string" === n.type(t)?n(t):t), u}, u.getItems = function(){return f.g?f.g():{}}, u.update = function(t){return f.e && f.e({}, !t), u}, u.force = function(t){return f.f && f.f("string" === n.type(t)?n(t):t), u}, u.loadAll = function(){return f.e && f.e({all:!0}, !0), u}, u.destroy = function(){return n(l.appendScroll).off("." + c, f.e), n(t).off("." + c), f = {}, e}, r(u, l, a, f, c), l.chainable?a:u}var n = t.jQuery || t.Zepto, i = 0, o = !1; n.fn.Lazy = n.fn.lazy = function(t){return new a(this, t)}, n.Lazy = n.lazy = function(t, r, i){if (n.isFunction(r) && (i = r, r = []), n.isFunction(i)){t = n.isArray(t)?t:[t], r = n.isArray(r)?r:[r]; for (var o = a.prototype.config, u = o._f || (o._f = {}), l = 0, f = t.length; l < f; l++)(o[t[l]] === e || n.isFunction(o[t[l]])) && (o[t[l]] = i); for (var c = 0, s = r.length; c < s; c++)u[r[c]] = t[0]}}, a.prototype.config = {name:"lazy", chainable:!0, autoDestroy:!0, bind:"load", threshold:500, visibleOnly:!1, appendScroll:t, scrollDirection:"both", imageBase:null, defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==", placeholder:null, delay: - 1, combined:!1, attribute:"data-src", srcsetAttribute:"data-srcset", sizesAttribute:"data-sizes", retinaAttribute:"data-retina", loaderAttribute:"data-loader", imageBaseAttribute:"data-imagebase", removeAttribute:!0, handledName:"handled", loadedName:"loaded", effect:"show", effectTime:0, enableThrottle:!0, throttle:250, beforeLoad:e, afterLoad:e, onError:e, onFinishedAll:e}, n(t).on("load", function(){o = !0})}(window);
                        /*! jQuery & Zepto Lazy - All Plugins v1.7.6 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2017 Daniel 'Eisbehr' Kern */
                        !function(t){function a(a, e, r, o){t.ajax({url:e.attr("data-src"), type:o || "get", dataType:e.attr("data-type") || "html", success:function(t){e.html(t), r(!0), a.config("removeAttribute") && e.removeAttr("data-src data-method data-type")}, error:function(){r(!1)}})}t.lazy("ajax", function(t, e){a(this, t, e, t.attr("data-method"))}), t.lazy("get", function(t, e){a(this, t, e, "get")}), t.lazy("post", function(t, e){a(this, t, e, "post")})}(window.jQuery || window.Zepto), function(t){t.lazy(["av", "audio", "video"], ["audio", "video"], function(a, e){var r = a[0].tagName.toLowerCase(); if ("audio" === r || "video" === r){var o = a.find("data-src"), i = a.find("data-track"), n = 0, c = function(){++n === o.length && e(!1)}, s = function(){var a = t(this), e = a[0].tagName.toLowerCase(), r = a.prop("attributes"), o = t("data-src" === e?"<source>":"<track>"); "data-src" === e && o.one("error", c), t.each(r, function(t, a){o.attr(a.name, a.value)}), a.replaceWith(o)}; a.one("loadedmetadata", function(){e(!0)}).off("load error").attr("poster", a.attr("data-poster")), o.length?o.each(s):a.attr("data-src")?(t.each(a.attr("data-src").split(","), function(e, r){var o = r.split("|"); a.append(t("<source>").one("error", c).attr({src:o[0].trim(), type:o[1].trim()}))}), this.config("removeAttribute") && a.removeAttr("data-src")):e(!1), i.length && i.each(s)} else e(!1)})}(window.jQuery || window.Zepto), function(t){t.lazy(["frame", "iframe"], "iframe", function(a, e){var r = this; if ("iframe" === a[0].tagName.toLowerCase()){var o = a.attr("data-error-detect"); "true" !== o && "1" !== o?(a.attr("src", a.attr("data-src")), r.config("removeAttribute") && a.removeAttr("data-src data-error-detect")):t.ajax({url:a.attr("data-src"), dataType:"html", crossDomain:!0, xhrFields:{withCredentials:!0}, success:function(t){a.html(t).attr("src", a.attr("data-src")), r.config("removeAttribute") && a.removeAttr("data-src data-error-detect")}, error:function(){e(!1)}})} else e(!1)})}(window.jQuery || window.Zepto), function(t){t.lazy("noop", function(){}), t.lazy("noop-success", function(t, a){a(!0)}), t.lazy("noop-error", function(t, a){a(!1)})}(window.jQuery || window.Zepto), function(t){function a(a, e, i){var n = a.prop("attributes"), c = t("<" + e + ">"); return t.each(n, function(t, a){"srcset" !== a.name && a.name !== o || (a.value = r(a.value, i)), c.attr(a.name, a.value)}), a.replaceWith(c), c}function e(a, e, r){var o = t("<img>").one("load", function(){r(!0)}).one("error", function(){r(!1)}).appendTo(a).attr("src", e); o.complete && o.load()}function r(t, a){if (a){var e = t.split(","); t = ""; for (var r = 0, o = e.length; r < o; r++)t += a + e[r].trim() + (r !== o - 1?",":"")}return t}var o = "data-src"; t.lazy(["pic", "picture"], ["picture"], function(i, n){if ("picture" === i[0].tagName.toLowerCase()){var c = i.find(o), s = i.find("data-img"), d = this.config("imageBase"); c.length?(c.each(function(){a(t(this), "source", d)}), 1 === s.length?(s = a(s, "img", d), s.on("load", function(){n(!0)}).on("error", function(){n(!1)}), s.attr("src", s.attr(o)), this.config("removeAttribute") && s.removeAttr(o)):i.attr(o)?(e(i, d + i.attr(o), n), this.config("removeAttribute") && i.removeAttr(o)):n(!1)):i.attr("data-srcset")?(t("<source>").attr({media:i.attr("data-media"), sizes:i.attr("data-sizes"), type:i.attr("data-type"), srcset:r(i.attr("data-srcset"), d)}).appendTo(i), e(i, d + i.attr(o), n), this.config("removeAttribute") && i.removeAttr(o + " data-srcset data-media data-sizes data-type")):n(!1)} else n(!1)})}(window.jQuery || window.Zepto), function(t){t.lazy(["js", "javascript", "script"], "script", function(t, a){"script" == t[0].tagName.toLowerCase()?(t.attr("src", t.attr("data-src")), this.config("removeAttribute") && t.removeAttr("data-src")):a(!1)})}(window.jQuery || window.Zepto), function(t){t.lazy("vimeo", function(t, a){"iframe" === t[0].tagName.toLowerCase()?(t.attr("src", "https://player.vimeo.com/video/" + t.attr("data-src")), this.config("removeAttribute") && t.removeAttr("data-src")):a(!1)})}(window.jQuery || window.Zepto), function(t){t.lazy(["yt", "youtube"], function(t, a){"iframe" === t[0].tagName.toLowerCase()?(t.attr("src", "https://www.youtube.com/embed/" + t.attr("data-src") + "?rel=0&amp;showinfo=0"), this.config("removeAttribute") && t.removeAttr("data-src")):a(!1)})}(window.jQuery || window.Zepto);
                        
                        
                        /*
                        * 
                        *  Infinity scrolling
                       */

                       /*!
                        * Infinite Scroll PACKAGED v3.0.4
                        * Automatically add next page
                        *
                        * Licensed GPLv3 for open source use
                        * or Infinite Scroll Commercial License for commercial use
                        *
                        * https://infinite-scroll.com
                        * Copyright 2018 Metafizzy
                        */

!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,l){function a(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,a){var h=l.data(a,i);if(!h)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var c=h[e];if(!c||"_"==e.charAt(0))return void s(r+" is not a valid method");var u=c.apply(h,n);o=void 0===o?u:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=l.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),l.data(n,i,o))})}l=l||e||t.jQuery,l&&(r.prototype.option||(r.prototype.option=function(t){l.isPlainObject(t)&&(this.options=l.extend(!0,this.options,t))}),l.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return a(this,t,e)}return h(this,t),this},n(l))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),s="data-"+r,l=document.querySelectorAll("["+s+"]"),a=document.querySelectorAll(".js-"+r),h=i.makeArray(l).concat(i.makeArray(a)),c=s+"-options",u=t.jQuery;h.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(l){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+l))}var a=new e(t,i);u&&u.data(t,n,a)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){var s=i.getQueryElement(t);if(!s)return void console.error("Bad element for InfiniteScroll: "+(s||t));if(t=s,t.infiniteScrollGUID){var l=r[t.infiniteScrollGUID];return l.option(e),l}this.element=t,this.options=i.extend({},n.defaults),this.option(e),o&&(this.$element=o(this.element)),this.create()}var o=t.jQuery,r={};n.defaults={},n.create={},n.destroy={};var s=n.prototype;i.extend(s,e.prototype);var l=0;s.create=function(){var t=this.guid=++l;this.element.infiniteScrollGUID=t,r[t]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath();var e=this.getPath&&this.getPath();if(!e)return void console.error("Disabling InfiniteScroll");this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit();for(var i in n.create)n.create[i].call(this)},s.option=function(t){i.extend(this.options,t)},s.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},s.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;if(this.emitEvent(t,n),o&&this.$element){t+=".infiniteScroll";var r=t;if(e){var s=o.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}};var a={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};s.log=function(t,e){if(this.options.debug){var i="[InfiniteScroll] "+t,n=a[t];n&&(i+=". "+n.apply(this,e)),console.log(i)}},s.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},s.updateScroller=function(){var e=this.options.elementScroll;if(!e)return void(this.scroller=t);if(this.scroller=e===!0?this.element:i.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e},s.updateGetPath=function(){var t=this.options.path;if(!t)return void console.error("InfiniteScroll path option required. Set as: "+t);var e=typeof t;if("function"==e)return void(this.getPath=t);var i="string"==e&&t.match("{{#}}");return i?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t)},s.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(e),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var h=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return s.updateGetPathSelector=function(t){var e=document.querySelector(t);if(!e)return void console.error("Bad InfiniteScroll path option. Next link not found: "+t);for(var i,n,o=e.getAttribute("href"),r=0;o&&r<h.length;r++){n=h[r];var s=o.match(n);if(s){i=s.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+o)},s.updateGetAbsolutePath=function(){var t=this.getPath(),e=t.match(/^http/)||t.match(/^\//);if(e)return void(this.getAbsolutePath=this.getPath);var i=location.pathname,n=i.substring(0,i.lastIndexOf("/"));this.getAbsolutePath=function(){return n+"/"+this.getPath()}},n.create.hideNav=function(){var t=i.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},n.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},s.destroy=function(){this.allOff();for(var t in n.destroy)n.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid]},n.throttle=function(t,e){e=e||200;var i,n;return function(){var o=+new Date,r=arguments,s=function(){i=o,t.apply(this,r)}.bind(this);i&&o<i+e?(clearTimeout(n),n=setTimeout(s,e)):s()}},n.data=function(t){t=i.getQueryElement(t);var e=t&&t.infiniteScrollGUID;return e&&r[e]},n.setJQuery=function(t){o=t},i.htmlInit(n,"infinite-scroll"),o&&o.bridget&&o.bridget("infiniteScroll",n),n}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(t,e){function i(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function n(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var n=e[i],r=document.createElement("script");o(n,r),r.innerHTML=n.innerHTML,n.parentNode.replaceChild(r,n)}}function o(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}}function r(t,e,i,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e||"",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){if(200==o.status)i(o.response);else{var t=new Error(o.statusText);n(t)}},o.onerror=function(){var e=new Error("Network error requesting "+t);n(e)},o.send()}var s=e.prototype;return e.defaults.loadOnScroll=!0,e.defaults.checkLastPage=!0,e.defaults.responseType="document",e.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},s.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},s.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var e=function(e){this.onPageLoad(e,t)}.bind(this),i=function(e){this.onPageError(e,t)}.bind(this);r(t,this.options.responseType,e,i),this.dispatchEvent("request",null,[t])}},s.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},s.appendNextPage=function(t,e){var n=this.options.append,o="document"==this.options.responseType;if(o&&n){var r=t.querySelectorAll(n),s=i(r),l=function(){this.appendItems(r,s),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,r])}.bind(this);this.options.outlayer?this.appendOutlayerItems(s,l):l()}},s.appendItems=function(t,e){t&&t.length&&(e=e||i(t),n(e),this.element.appendChild(e))},s.appendOutlayerItems=function(i,n){var o=e.imagesLoaded||t.imagesLoaded;return o?void o(i,n):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},s.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},s.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n=this.options.path;if("function"==typeof n){var o=this.getPath();if(!o)return void this.lastPageReached(t,e)}var r;if("string"==typeof i?r=i:this.isPathSelector&&(r=n),r&&t.querySelector){var s=t.querySelector(r);s||this.lastPageReached(t,e)}}},s.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},s.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},e.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return void console.error("append option required for prefill. Set as :"+t);this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},s.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=t>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},s.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},s.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold,e=t||0===t;e&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.pageScrollHandler),t[i]("resize",this.resizeHandler)},n.onPageScroll=e.throttle(function(){var t=this.getBottomDistance();t<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){var e=this.top+this.element.clientHeight,i=t.pageYOffset+this.windowHeight;return e-i},n.getElementBottomDistance=function(){var t=this.scroller.scrollHeight,e=this.scroller.scrollTop+this.scroller.clientHeight;return t-e},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(e,"onResize",150),e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;e.defaults.history="replace";var o=document.createElement("a");return e.create.history=function(){if(this.options.history){o.href=this.getAbsolutePath();var t=o.origin||o.protocol+"//"+o.host,e=t==location.origin;return e?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")}},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.scrollHistoryHandler),t[i]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=n.destroyHistory=function(){var t=this.options.history&&this.options.append;t&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){if(i&&i.length){var n=i[0],r=this.getElementScrollY(n);o.href=e,this.scrollPages.push({top:r,path:o.href,title:t.title})}},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(e){var i=e.getBoundingClientRect();return i.top+t.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(e,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history,n=i&&history[i+"State"];n&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var i=this.scrollPages[e],n=t.pageYOffset-i.top+this.top;this.destroyHistory(),scrollTo(0,n)}},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);if(t)return void(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements();var e=this.statusEventElements[t];o(e)},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){var e=this.statusEventElements[t];n(e)}},e}),function(t,e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(t){return t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?h.call(t):[t]}function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||t))}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var l=t.jQuery,a=t.console,h=Array.prototype.slice;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(l=e,l.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(l(this))})},o.makeJQueryPlugin(),o});

                       
                        $(function() {
                            if($(window).width() > '767') {
                            console.log("T");
                $("#left-column").css("top",$("#search_filters").height()*(-1));
                }                
                        $('.lazy').lazy({
                                  effect: "fadeIn",
          effectTime: 300,
          threshold: 0
      });
                        });                        
                        /*
                         *  Change tab name when user leave window
                         */
                        $(document).ready(function() {
                             
                            $("input[name=chce_fakture]").click(function() {
                                //console.log("test");
                                if($("input[name=use_same_address]").is(":checked")) {
                                     //console.log("1");
                                    $("input[name=use_same_address]").prop('checked', false);
                                } else {
                                    //console.log("0");
                                    $("input[name=use_same_address]").prop('checked', true);

                                }
                                
                            });
                            
                            
                   
                var title = $('title').html();
                        window.onblur = function () { document.title = '(' + $('.cart-products-count').html() + ') Wróć na StylowaTorba.pl'; }

                window.onfocus = function () { document.title = title; }
                });
                        $(".products-carousel, .home-carousel").hover(function() {
                console.log("stop");
                        $(this).data('owlCarousel').stop() // Autoplay Stop  
                        }).mouseleave(function()  {
                console.log("play");
                        $(this).data('owlCarousel').play();
                        });
                        
                        $('.home-carousel').owlCarousel({
                        navigation : true,
                        autoPlay: 5000, //Set AutoPlay to 3 seconds
                        navigationText:["&nbsp;", "&nbsp;"],
                        responsiveClass:true,
                        loop:true,
                        lazyLoad : true,
                        items: 3,
                        itemsDesktop: [1199, 2],
                        itemsDesktopSmall: [979, 1]

                        });
                        
                        $('.products-carousel').owlCarousel({
                        navigation : true,
                        autoPlay: 5000, //Set AutoPlay to 3 seconds
                        navigationText:["&nbsp;", "&nbsp;"],
                        responsiveClass:true,
                        loop:true,
                        lazyLoad : true,
                        items: 4,
                        itemsDesktop: [1199, 3],
                        itemsDesktopSmall: [979, 1]

                        });
                        $('.single-carousel').owlCarousel({
                        navigation : true,
                        autoPlay: 5000, //Set AutoPlay to 3 seconds
                        navigationText:["&nbsp;", "&nbsp;"],
                        responsiveClass:true,
                        loop:true,
                        lazyLoad : true,
                        items: 1 ,
                        itemsDesktop: [1199, 1],
                        itemsDesktopSmall: [979, 1],
                        itemsTablet:[768,1],
                        itemsMobile:[479,1],
                        });
                        $('.brands-carousel').owlCarousel({
                autoPlay: 5000, //Set AutoPlay to 3 seconds
                        dots: false,
                        items: 5,
                        itemsDesktop: [1199, 3],
                        itemsDesktopSmall: [979, 1]

                        });
                        if ($(".odliczanie").size() > 0) {  // #odliczanie
                function odliczanie(data_promotion, numer) {
                 
                        var y = data_promotion.slice(0, 4);
                        var m = data_promotion.slice(5, 7);
                        var d = data_promotion.slice(8, 10);
                        var h = data_promotion.slice(11, 13);
                        var i = data_promotion.slice(14, 16);
                        var s = data_promotion.slice(17, 20);
                        //var current_date=get_date.getTime()/1000;
                        var get_date = new Date();
                        var current_date = get_date.getTime() / 1000;
                        var get_event = new Date("" + y + "-" + m + "-" + d + "T" + h + ":" + i + ":" + s + "Z");
                        //console.log("" + m + " " + d + ", " + y + " " + h + ":" + i + ":" + s + "");

                        var event_time = get_event.getTime() / 1000;
                        var pozostalo = event_time - current_date;
                        var dni = pozostalo / (24 * 60 * 60);
                        var godziny = pozostalo % (24 * 60 * 60) / 3600;
                        var minuty = pozostalo % ((60 * 60)) / 60;
                        var sekundy = pozostalo % (60);
                        var odliczanie_html = $(".odliczanie:eq(" + numer + ")");
                        if (Math.floor(sekundy) < 10) { sekundy = "0" + Math.floor(sekundy); }
                else { sekundy = Math.floor(sekundy); }
                if (Math.floor(minuty) < 10) { minuty = "0" + Math.floor(minuty); }
                else { minuty = Math.floor(minuty); }
                if ((pozostalo > 0) && (dni < 366)) {

                odliczanie_html.html(Math.floor(dni) + " dni " + Math.floor(godziny) + " : " + minuty + " : " + sekundy);
                }
                else {
                odliczanie_html.removeClass('red-promotion');
                        if (dni >= 366) {
                odliczanie_html.html("Do odwołania");
                } else {
                //odliczanie_html.html("Promocja zakończona getEvent:"+get_event.getTime()+"current_date"+current_date);
                odliczanie_html.html("Promocja zakończona");
                }
                }

                if (dni <= 1) {
                odliczanie_html.addClass('red-promotion');
                }
                }


                $(document).ready(function() {


                $('.odliczanie').each(function(dt) {
                // console.log('test'+dt);
                setInterval("odliczanie('" + $(this).attr('data-promotion') + "','" + dt + "')", 1000);
                
                });
                        //setInterval("odliczanie('"+$('.odliczanie').attr('data-promotion')+"')", 1000); 

                });
                }


                var _0x7035 = ["\x61\x74\x63\x5F\x73\x70\x69\x6E\x6E\x65\x72", "\x61\x64\x64\x43\x6C\x61\x73\x73", "\x61\x75\x74\x6F\x72\x65\x6E\x65\x77", "\x68\x74\x6D\x6C", "\x69", "\x66\x69\x6E\x64", "\x64\x61\x74\x61\x2D\x69\x64\x2D\x70\x72\x6F\x64\x75\x63\x74\x2D\x61\x74\x74\x72\x69\x62\x75\x74\x65", "\x61\x74\x74\x72", "\x70\x61\x72\x65\x6E\x74", "\x76\x61\x6C", "\x2E\x61\x74\x63\x5F\x71\x74\x79", "\x64\x61\x74\x61\x2D\x69\x64\x2D\x70\x72\x6F\x64\x75\x63\x74", "\x50\x4F\x53\x54", "\x6E\x6F\x2D\x63\x61\x63\x68\x65", "\x63\x61\x72\x74", "\x70\x61\x67\x65\x73", "\x75\x72\x6C\x73", "\x3F\x72\x61\x6E\x64\x3D", "\x67\x65\x74\x54\x69\x6D\x65", "\x6A\x73\x6F\x6E", "\x61\x63\x74\x69\x6F\x6E\x3D\x75\x70\x64\x61\x74\x65\x26\x61\x64\x64\x3D\x31\x26\x61\x6A\x61\x78\x3D\x74\x72\x75\x65\x26\x71\x74\x79\x3D", "\x31", "\x26\x69\x64\x5F\x70\x72\x6F\x64\x75\x63\x74\x3D", "\x26\x74\x6F\x6B\x65\x6E\x3D", "\x73\x74\x61\x74\x69\x63\x5F\x74\x6F\x6B\x65\x6E", "\x26\x69\x70\x61\x3D", "", "\x26\x69\x64\x5F\x63\x75\x73\x74\x6F\x6D\x69\x7A\x61\x74\x69\x6F\x6E\x3D", "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64", "\x72\x65\x6D\x6F\x76\x65\x43\x6C\x61\x73\x73", "\x61\x64\x64\x5F\x73\x68\x6F\x70\x70\x69\x6E\x67\x5F\x63\x61\x72\x74", "\x75\x70\x64\x61\x74\x65\x43\x61\x72\x74", "\x61\x64\x64\x2D\x74\x6F\x2D\x63\x61\x72\x74", "\x65\x6D\x69\x74", "\x61\x6A\x61\x78"]; var mypresta_productListCart = {add:function(_0x4bd3x2){_0x4bd3x2[_0x7035[5]](_0x7035[4])[_0x7035[3]](_0x7035[2])[_0x7035[1]](_0x7035[0]); idCombination = _0x4bd3x2[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[7]](_0x7035[6]); quantity = _0x4bd3x2[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[5]](_0x7035[10])[_0x7035[9]](); idProduct = _0x4bd3x2[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[8]]()[_0x7035[7]](_0x7035[11]); $[_0x7035[34]]({type:_0x7035[12], headers:{"\x63\x61\x63\x68\x65\x2D\x63\x6F\x6E\x74\x72\x6F\x6C":_0x7035[13]}, url:prestashop[_0x7035[16]][_0x7035[15]][_0x7035[14]] + _0x7035[17] + new Date()[_0x7035[18]](), async:!0, cache:!1, dataType:_0x7035[19], data:_0x7035[20] + ((quantity && quantity != null)?quantity:_0x7035[21]) + _0x7035[22] + idProduct + _0x7035[23] + prestashop[_0x7035[24]] + ((parseInt(idCombination) && idCombination != null)?_0x7035[25] + parseInt(idCombination):_0x7035[26] + _0x7035[27] + ((typeof customizationId !== _0x7035[28])?customizationId:0)), success:function(_0x4bd3x3, _0x4bd3x4, _0x4bd3x5){_0x4bd3x2[_0x7035[5]](_0x7035[4])[_0x7035[3]](_0x7035[30])[_0x7035[29]](_0x7035[0]); prestashop[_0x7035[33]](_0x7035[31], {reason:{idProduct:idProduct, idProductAttribute:idCombination, linkAction:_0x7035[32]}})}})}}


                var height_menu = '137';
                        $(document).ready(function() {

                if ($("#home_category").size() > 0) {

                $.getJSON("modules/homepage_category/results.json", function(data) {
                //http://mjendraszczy.nazwa.pl/stylowatorba/?controller=category&id_category=3
                console.log(data);
                        var indexData = 0;
               //         for (var p = 0; p < data.length; p++) {
//console.log("Test");

// -----
//                $.getJSON("?controller=category&id_category=3", function(response) {
//
//                $(".count:eq(0)").html(response.pagination.total_items);
//                });
//                        $.getJSON("?controller=category&id_category=6", function(response) {
//
//                        $(".count:eq(1)").html(response.pagination.total_items);
//                        });
// 
//                        $.getJSON("?controller=category&id_category=38", function(response) {
//
//                        $(".count:eq(2)").html(response.pagination.total_items);
//                        });
                         
            // -----

                });
                }


if($(window).width() > 767) {
                if ($(window).scrollTop() > $('#header').height()) {
                $('.header-top').addClass('fixed');
                        //var header_main = $('.header-top').height();

                         $('body').css('margin-top', height_menu + 'px');
                }
                }
 
                $('.top-menu li').hover(function() {
                $(this).addClass('hover');
                        }).mouseleave(function() {
                $(this).removeClass('hover');
                        });
                        });
                        $(window).scroll(function() {

                if ($(window).scrollTop() >= 500) {

                $("#bottom_cart").addClass("active");
                } else {
                $("#bottom_cart").removeClass("active");
                }


if($(window).width() > 767) {
                if ($(window).scrollTop() >= $('#header').height()) {
//        if($("#cart").size() == 0)  { 
//    $("#rabaty").css('bottom','-100px');
//        }
                //var header_main = $('.header-top').height();
                $('.header-top').addClass('fixed');
                        //var header_fixed = $('.header-top.fixed').height();

                        $('body').css('margin-top', (parseInt(height_menu)) + 'px');
                }
                }
                
                if ($(window).scrollTop() < height_menu){
                $("#rabaty").css('bottom', '0px');
                        $('.header-top').removeClass('fixed');
                        $('body').css('margin-top', '0px');
                        if ($('#ui-id-1').is(':visible')) {
                $('#ui-id-1').css('display', 'none');
                }
                }


                if ($('#footer_account_list').visible(true)) {
//    console.log("visible");
                //$('#footer .footer-container .row').addClass('animated fadeInUp');
                        } else {
                //console.log(" not visible");
               // $('#footer .footer-container .row').removeClass('animated fadeInUp');
                     //   $('#footer .footer-container .row').addClass('animated fadeInDown');
                        }

                });
                        $(document).ready(function() {


                if ($(window).width() >= 768) {
                if ($.cookie("mj_banner") != 1) {
                setTimeout(function() {
                $('#mj_banner').modal('show');
                }, $("#mj_banner").attr('data-load'));
                }
                }

                if ($('#custom-text').visible(true)) {
                $('.home-text-box').addClass('zoomIn animated');
                }
                });
                        $(document).ajaxComplete(function() {
                console.log("T");
                if($(window).width() > '767') {
                $("#left-column").css("top",$("#search_filters").height()*(-1));
            }
                $('.lazy').lazy({
                          effect: "fadeIn",
          effectTime: 300,
          threshold: 0
      });
                
    if($("#js-product-list").size() > 0) {
        if($(".next").size() > 0 ) {
        $('#js-product-list > .products').infiniteScroll({
  path: '.next',
  append: '.product-miniature',
  status: '.scroller-status',
  hideNav: '.pagination',
 status: '.page-load-status',
 scrollThreshold: true,
 scrollThreshold: 5000

});
 
$('#js-product-list > .products').on( 'append.infiniteScroll', function( event, path ) {
  console.log( 'Loading page: ' + path );
  $('.lazy').lazy({
            effect: "fadeIn",
          effectTime: 300,
          threshold: 0
      });    
  
 
  
       
  
  
  $('.odliczanie').each(function(dt) {
                 
                setInterval("odliczanie('" + $(this).attr('data-promotion') + "','" + dt + "')", 1000);
                
                });
});

    }
    else {
    $(".infinite-scroll-request").css("display","none");
}
    }
                

                        
});
                        
                        
                        var native_width = 0;
                        var native_height = 0;
                        $(".magnify").on("mouseleave", function() {
                $('.product-thumb-large').fadeOut(300);
                        });
                        $(".thumb.js-thumb").bind("click", function() {
                        $(".product-thumb-large").css("background-image", "url(" + $(this).attr("data-image-large-src") + ")");
                        });
                        //Now the mousemove function
                        $(".magnify").mousemove(function (e) {
  
                if (!native_width && !native_height) {


                var image_object = new Image();
                        image_object.src = $(".js-qv-product-cover").attr("src");
   
                        native_width = image_object.width;
                        native_height = image_object.height;
                } else {
 
                var magnify_offset = $(this).offset();
  
                                var mx = e.pageX - magnify_offset.left;
                        var my = e.pageY - magnify_offset.top;
                        //Finally the code to fade out the glass if the mouse is outside the container
                        if (mx < $(this).width() && my < $(this).height() && mx > 0 && my > 0) {
                $(".product-thumb-large").fadeIn(300);
                        // console.log("enable");
                } else {
                // $(".product-thumb-large").fadeOut(300);
                // console.log("disable");
                }
                if ($(".product-thumb-large").is(":visible")) {
           
                                    var rx = Math.round(mx / $(".js-qv-product-cover").width() * native_width - $(".product-thumb-large").width() / 2) * - 1;
                        var ry = Math.round(my / $(".js-qv-product-cover").height() * native_height - $(".product-thumb-large").height() / 2) * - 1;
                        var bgp = rx + "px " + ry + "px";
                        //Time to move the magnifying glass with the mouse
                        var px = mx - $(".product-thumb-large").width() / 2;
                        var py = my - $(".product-thumb-large").height() / 2;
                        //Now the glass moves with the mouse
                        //The logic is to deduct half of the glass's width and height from the 
                        //mouse coordinates to place it with its center at the mouse coordinates

                        //If you hover on the image now, you should see the magnifying glass in action
                        $(".product-thumb-large").css({
                left: px,
                        top: py,
                        backgroundPosition: bgp
                });
                }
                }
                })

                        $(document).ready(function() {

                $("#mj_banner .modal-header .close").click(function() {
                $.cookie("mj_banner", 1, { expires : 2 });
                });
                        if (($("#cart").size() != 0) || $("#index").size() != 0) {

                console.log("COOKIE: " + $.cookie("mj_rabaty_bar"));
                        if ($.cookie("mj_rabaty_bar") != 1) {
                setTimeout(function() { $('.mj_rabaty').css('bottom', '0px'); }, 1000);
                }

                }

                });
                        jQuery(document).ready(function($) {
                $('.counter').counterUp({
                delay: 10,
                        time: 1000
                });
                });
                        $(".close-mj-rabaty-btn").bind(
                        "click", function() {
                        $.cookie("mj_rabaty_bar", 1, { expires : 2 });
                                $(".mj_rabaty").css("bottom", "-80px");
                                console.log("close");
                        });
                        $("#conditions-to-approve input").click(function() {


                if (($("#conditions-to-approve li:nth-child(2) input").is(':checked')) && ($("#conditions-to-approve li:nth-child(1) input").is(':checked'))) {
                $(this).parent().parent().parent().parent().parent().removeClass('alert-danger');
                        $(this).parent().parent().parent().parent().parent().addClass('alert-success');
                } else {
                $(this).parent().parent().parent().parent().parent().removeClass('alert-success');
                        $(this).parent().parent().parent().parent().parent().addClass('alert-danger');
                }


                });

      
                $(document).ready(function() {


                if ($("#js-product-list").size() > 0) {
                if ($(".next").size() > 0) {
                $('#js-product-list > .products').infiniteScroll({
                path: '.next',
                        append: '.product-miniature',
                        status: '.scroller-status',
                        hideNav: '.pagination',
                        status: '.page-load-status',
                         scrollThreshold: true,
                         scrollThreshold: 5000

                        });
                        $('#js-product-list > .products').on('append.infiniteScroll', function(event, path) {
                console.log('Loading page: ' + path);
                        $('.lazy').lazy({
            effect: "fadeIn",
          effectTime: 300,
          threshold: 0
      }); 
                        $('.odliczanie').each(function(dt) {

                setInterval("odliczanie('" + $(this).attr('data-promotion') + "','" + dt + "')", 1000);
                });
                        });
                }
                else {
                $(".infinite-scroll-request").css("display", "none");
                        }
                }
                });
  // jQuery
  

// Analytics Google 
// 
 
 /**
 * 2007-2015 PrestaShop
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 *  @author    PrestaShop SA <contact@prestashop.com>
 *  @copyright 2007-2015 PrestaShop SA
 *  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 *  International Registered Trademark & Property of PrestaShop SA
 **/

/* globals $, ga, jQuery */

var GoogleAnalyticEnhancedECommerce = {

	setCurrency: function(Currency) {
		ga('set', '&cu', Currency);
	},

	add: function(Product, Order, Impression) {
		var Products = {};
		var Orders = {};

		var ProductFieldObject = ['id', 'name', 'category', 'brand', 'variant', 'price', 'quantity', 'coupon', 'list', 'position', 'dimension1'];
		var OrderFieldObject = ['id', 'affiliation', 'revenue', 'tax', 'shipping', 'coupon', 'list', 'step', 'option'];

		if (Product != null) {
			if (Impression && Product.quantity !== undefined) {
				delete Product.quantity;
			}

			for (var productKey in Product) {
				for (var i = 0; i < ProductFieldObject.length; i++) {
					if (productKey.toLowerCase() == ProductFieldObject[i]) {
						if (Product[productKey] != null) {
							Products[productKey.toLowerCase()] = Product[productKey];
						}

					}
				}

			}
		}

		if (Order != null) {
			for (var orderKey in Order) {
				for (var j = 0; j < OrderFieldObject.length; j++) {
					if (orderKey.toLowerCase() == OrderFieldObject[j]) {
						Orders[orderKey.toLowerCase()] = Order[orderKey];
					}
				}
			}
		}

		if (Impression) {
			ga('ec:addImpression', Products);
		} else {
			ga('ec:addProduct', Products);
		}
	},

	addProductDetailView: function(Product) {
		this.add(Product);
		ga('ec:setAction', 'detail');
		ga('send', 'event', 'UX', 'detail', 'Product Detail View',{'nonInteraction': 1});
	},

	addToCart: function(Product) {
		this.add(Product);
		ga('ec:setAction', 'add');
		ga('send', 'event', 'UX', 'click', 'Add to Cart'); // Send data using an event.
	},

	removeFromCart: function(Product) {
		this.add(Product);
		ga('ec:setAction', 'remove');
		ga('send', 'event', 'UX', 'click', 'Remove From cart'); // Send data using an event.
	},

	addProductImpression: function(Product) {
		//ga('send', 'pageview');
	},

	/**
	id, type, affiliation, revenue, tax, shipping and coupon.
	**/
	refundByOrderId: function(Order) {
		/**
		 * Refund an entire transaction.
		 **/
		ga('ec:setAction', 'refund', {
			'id': Order.id // Transaction ID is only required field for full refund.
		});
		ga('send', 'event', 'Ecommerce', 'Refund', {'nonInteraction': 1});
	},

	refundByProduct: function(Order) {
		/**
		 * Refund a single product.
		 **/
		//this.add(Product);

		ga('ec:setAction', 'refund', {
			'id': Order.id, // Transaction ID is required for partial refund.
		});
		ga('send', 'event', 'Ecommerce', 'Refund', {'nonInteraction': 1});
	},

	addProductClick: function(Product) {
		var ClickPoint = jQuery('a[href$="' + Product.url + '"].quick-view');

		ClickPoint.on("click", function() {
			GoogleAnalyticEnhancedECommerce.add(Product);
			ga('ec:setAction', 'click', {
				list: Product.list
			});

			ga('send', 'event', 'Product Quick View', 'click', Product.list, {
				'hitCallback': function() {
					return !ga.loaded;
				}
			});
		});

	},

	addProductClickByHttpReferal: function(Product) {
		this.add(Product);
		ga('ec:setAction', 'click', {
			list: Product.list
		});

		ga('send', 'event', 'Product Click', 'click', Product.list, {
			'nonInteraction': 1,
			'hitCallback': function() {
				return !ga.loaded;
			}
		});

	},

	addTransaction: function(Order) {

		//this.add(Product);
		ga('ec:setAction', 'purchase', Order);
		ga('send', 'event','Transaction','purchase', {
			'hitCallback': function() {
				$.get(Order.url, {
					orderid: Order.id,
					customer: Order.customer
				});
			}
		});

	},

	addCheckout: function(Step) {
		ga('ec:setAction', 'checkout', {
			'step': Step
			//'option':'Visa'
		});
		ga('send', 'pageview');
	},
	
	addCheckoutOption: function(Step,Option) {
		ga('ec:setAction', 'checkout_option', {
			'step': Step,
			'option': Option
		});
		ga('send', 'event', 'Checkout', 'Option');
  	}
};

// PayU


$(document).ready(function () {
    $('.payMethodEnable .payMethodLabel').click(function () {
        $('.payMethod').removeClass('payMethodActive');
        $(this).closest('.payMethod').addClass('payMethodActive');
        $(this).prev().prop('checked', true);
    });

    $('#HOOK_PAYMENT').on('click', 'a.payu', function () {
        return doubleClickPrevent(this);
    });

    $('#payuForm').submit(function () {
        return doubleClickPrevent(this);
    })

    $('#payuRetryPayment17').insertBefore($('#order-history'));
});

function doubleClickPrevent(object) {
    if ($(object).data('clicked')) {
        return false;
    }
    $(object).data('clicked', true);
    return true;
}
 // Searchbar
 
 
 /* global $ */
$(document).ready(function () {
     
     $(document).mouseup(function(e) 
        {
            var container = $("#resultSearchWidget");

            // if the target of the click isn't the container nor a descendant of the container
            if (!container.is(e.target) && container.has(e.target).length === 0) 
            {
                container.removeClass('active');
                container.html('');
            }
        });
     // if resultSearchWidget != null 
     // then if trigger click
     // resultSearchWidget = null
     
    var $searchWidget = $('#search_widget');
    var $searchBox    = $searchWidget.find('input[type=text]');
    var searchURL     = $searchWidget.attr('data-search-controller-url');
 
 
 $searchBox.keyup(function(){
                 
    $.widget('prestashop.psBlockSearchAutocomplete', $.ui.autocomplete, {
 
        _renderItem: function (ul, product) {
     
                 return $("<li>")
                .append($("<a href='"+product.url+"'>")
                    .append($("<span>").html(product.category_name).addClass("category"))
                    .append($("<span>").html('<img src="'+product.cover.small.url+'?v='+Date.now()+'" />').addClass("miniatura_result"))
                    .append($("<span>").html(product.name).addClass("product"))
                    .append('<span class="price-box">'+product.price+'</span>')
                    
                 ).appendTo("#resultSearchWidget"); //.appendTo(ul);//appendTo("#resultSearchWidget");
         
        }

    });
 
            
    $searchBox.psBlockSearchAutocomplete({         
        source: function (query, response) {
            $.post(searchURL, {
                s: query.term,
                resultsPerPage: 4
            }, null, 'json')
            .then(function (resp) {
                $("#resultSearchWidget").html('');
                if(resp.products.length == 0) {
                    console.log("brak wynikow, spercyzuj dokładniej frazę");
                    $("#resultSearchWidget").html('<li style="padding:10px;">Brak wyników, spercyzuj dokładniej frazę</li>');
                }
                console.log(resp.pagination.total_items);
                    $("#resultSearchWidget").addClass('active');
                response((resp.products));
                $("#resultSearchWidget").prepend('<li style="padding: 5px;font-weight: 700;">Propozycje prouktów</li>');
                if(resp.pagination.total_items == null) {
                    resp.pagination.total_items = 0;
                }
                $("#resultSearchWidget").append('<li><a href="?controller=search&s='+query.term+'" style="text-align:  center;padding:  10px;background:  #333;color:  #fff;"><i class="material-icons" style="">search</i>Pokaż wszystkie wyniki <span class="count-serach">'+resp.pagination.total_items+'</span></a></li>');
            }) 
            .fail(response);
        },
        select: function (event, ui) {
            var url = ui.item.url;
            window.location.href = url;
        },
        close: function( event, ui ) {}

    });
 
if($searchBox.val() == '')   { 
    $("#resultSearchWidget").removeClass('active');
    $("#resultSearchWidget").html('');
}

});
        $searchWidget.blur(function() {
    $("#resultSearchWidget").html('');
});
//        .change(function() {
//    $("#resultSearchWidget").html('');
//});
 

});
 
// FB Pixel
/*
 * 2007-2017 PrestaShop
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 *  @author PrestaShop SA <contact@prestashop.com>
 *  @copyright  2007-2017 PrestaShop SA
 *  @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 *  International Registered Trademark & Property of PrestaShop SA
 */

$(document).ready(function() {

  function ajaxGetProduct(id, attribute) {
   $.ajax({
       type: 'POST',
       url: pixel_fc,
       dataType: 'json',
       data: {
          action: 'GetProduct',
          ajax: true,
          id_product: id,
          id_attribute: attribute,
       },
       success: function(data) {
          var iso_code = prestashop.currency.iso_code,
          amount = data.price_amount;

          fbq('track', 'AddToCart', {value: amount, currency: iso_code});
       },
       error: function(err) {
       }
   });
  }

  // Track Add to cart
  prestashop.on('updateCart', (params) => {

    if (
      typeof(params) !== 'undefined'
      && typeof(prestashop.cart) !== 'undefined'
    ) {
      var iso_code = prestashop.currency.iso_code,
      products = prestashop.cart.products,
      my_id = params.reason.idProduct,
      my_attribute = params.reason.idProductAttribute,
      my_link = params.reason.linkAction;

      if (my_link != 'delete-from-cart') {

        // Keep ajax call
        // ajaxGetProduct(my_id, my_attribute);

        // Find product
        var search_product = $.grep(products, function(e){
          return e.id_product == my_id && e.id_product_attribute == my_attribute;
        });

        if (products.length != 0) {
          var amount = search_product[0].price_wt;
          fbq('track', 'AddToCart', {value: amount, currency: iso_code});
        }

      }
    }
  });

});